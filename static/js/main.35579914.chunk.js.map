{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/SearchBar/SearchBar.module.css","components/SearchBar/SearchBar.js","servises/image-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","images/error.jpg","components/ImageGalleryError/ImageGalleryError.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Button/Button.js","App.js","reportWebVitals.js","index.js","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","searchBar","searchForm","event","preventDefault","trim","alert","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","ImageApiService","query","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","onSetImg","largeImageURL","tags","onOpenModal","webformatURL","imageGalleryItem","onClick","src","alt","imageGalleryItemImage","ImageGallery","images","imageGallery","map","id","ImageGalleryError","message","role","errorImage","width","Modal","onCloseModal","imgModal","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","overlay","modal","img","modalImage","Loader","color","height","timeout","Button","onNextPageImg","loadButton","Status","App","setImages","error","setError","setPage","status","setStatus","showModal","setShowModal","setImgModal","imageApiService","total","prevImages","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","fetchImages","setModalImage","toggleModal","SearchBar","search","loader","prevPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.35579914.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__ZPanN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadButton\":\"Button_loadButton__1e0DO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"App_loader__2YC8q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__1RWX7\",\"searchForm\":\"SearchBar_searchForm__1SwF2\",\"searchFormButton\":\"SearchBar_searchFormButton__1yV5W\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__1RNle\",\"searchFormInput\":\"SearchBar_searchFormInput__2Sody\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2lkGS\"};","import { useState } from \"react\";\r\nimport { ImSearch } from \"react-icons/im\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./SearchBar.module.css\";\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  //записываем в state запрос\r\n  const hendleQueryChange = (event) => {\r\n    setSearchQuery(event.currentTarget.value.toLowerCase());\r\n  };\r\n  //делаем проверку на пустоту запроса, передаем значение state в Арр и чистим state\r\n  const hendleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (searchQuery.trim() === \"\") {\r\n      alert(\"Input query\");\r\n      return;\r\n    }\r\n    onSubmit(searchQuery);\r\n    setSearchQuery(\"\");\r\n  };\r\n  return (\r\n    <header className={s.searchBar}>\r\n      <form className={s.searchForm} onSubmit={hendleSubmit}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}>\r\n            <ImSearch />\r\n            Search\r\n          </span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.searchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={hendleQueryChange}\r\n          value={searchQuery}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\r\n\r\nexport default Searchbar;","const KEY = \"23113693-a6d7ef0307e3a7805769671eb\";\r\nconst URL = \"https://pixabay.com/api/?image_type=photo&orientation=horizontal\";\r\nconst AMOUNT_IMAGES = 12;\r\n\r\nfunction ImageApiService(query, page) {\r\n  const url = `${URL}&q=${query}&page=${page}&per_page=${AMOUNT_IMAGES}&key=${KEY}`;\r\n  return fetch(url).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Нет картинок с запросом ${query}`));\r\n  });\r\n}\r\n\r\nexport default ImageApiService;","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nfunction ImageGalleryItem({\r\n  onSetImg,\r\n  largeImageURL,\r\n  tags,\r\n  onOpenModal,\r\n  webformatURL,\r\n}) {\r\n  return (\r\n    <li\r\n      className={s.imageGalleryItem}\r\n      onClick={() => onSetImg(largeImageURL, tags)}\r\n    >\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.imageGalleryItemImage}\r\n        onClick={onOpenModal}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  onSetImg: PropTypes.func.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ images, onOpenModal, onSetImg }) {\r\n  return (\r\n    <div>\r\n      <ul className={s.imageGallery}>\r\n        {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            largeImageURL={largeImageURL}\r\n            onOpenModal={onOpenModal}\r\n            onSetImg={onSetImg}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n  onSetImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","export default __webpack_public_path__ + \"static/media/error.7d86105a.jpg\";","import PropTypes from \"prop-types\";\r\nimport errorImage from \"../../images/error.jpg\";\r\n\r\nfunction ImageGalleryError({ message }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <img src={errorImage} width=\"240\" alt=\"sadcat\" />\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nImageGalleryError.propTypes = { message: PropTypes.string.isRequired };\r\n\r\nexport default ImageGalleryError;","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nfunction Modal({ onCloseModal, imgModal }) {\r\n  //    снимаем слушатель и handleKeyDown()\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onCloseModal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.overlay} onClick={onCloseModal}>\r\n      <div className={s.modal}>\r\n        <img src={imgModal.img} alt={imgModal.alt} className={s.modalImage} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onCloseModal: PropTypes.func.isRequired,\r\n  imgModal: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default Modal;","import Load from \"react-loader-spinner\";\r\nexport default function Loader() {\r\n  return (\r\n    <Load\r\n      type=\"Circles\"\r\n      color=\"#00BFFF\"\r\n      height={50}\r\n      width={50}\r\n      timeout={3000}\r\n    />\r\n  );\r\n}","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\nfunction Button({ onNextPageImg }) {\r\n  return (\r\n    <button type=\"button\" className={s.loadButton} onClick={onNextPageImg}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = { onNextPageImg: PropTypes.func.isRequired };\r\n\r\nexport default Button;","import { useState, useEffect } from \"react\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport imageApiService from \"./servises/image-api\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport ImageGalleryError from \"./components/ImageGalleryError/ImageGalleryError\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\nimport s from \"./App.module.css\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [showModal, setShowModal] = useState(false);\n  const [imgModal, setImgModal] = useState(null);\n\n  useEffect(() => {\n    if (searchQuery === \"\") {\n      return;\n    }\n    fetchImages(searchQuery, page);\n  }, [searchQuery, page]);\n\n  function fetchImages(query, page) {\n    setStatus(Status.PENDING);\n    imageApiService(query, page)\n      .then((images) => {\n        if (images.total === 0) {\n          setError({ message: `There are no pictures with the name ${query}` });\n          setStatus(Status.REJECTED);\n          return;\n        }\n\n        setImages((prevImages) => [...prevImages, ...images.hits]);\n        setStatus(Status.RESOLVED);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => {\n        setError({ message: `There are no pictures with the name ${query}` });\n        setStatus(Status.REJECTED);\n      });\n  }\n\n  const setModalImage = (img, alt) => {\n    setImgModal({ img: img, alt: alt });\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const pageIncrement = () => setPage((prevPage) => prevPage + 1);\n\n  const hendleFormSubmit = (search) => {\n    setSearchQuery(search);\n    setPage(1);\n    setImages([]);\n  };\n\n  return (\n    <div>\n      <SearchBar onSubmit={hendleFormSubmit} />\n      {status === Status.PENDING && (\n        <>\n          <ImageGallery\n            images={images}\n            onOpenModal={toggleModal}\n            onSetImg={setModalImage}\n          />\n          <div className={s.loader}>\n            <Loader />\n            <p>Загружаем...</p>\n          </div>\n        </>\n      )}\n      {status === Status.RESOLVED && (\n        <>\n          <ImageGallery\n            images={images}\n            onOpenModal={toggleModal}\n            onSetImg={setModalImage}\n          />\n          <Button onNextPageImg={pageIncrement} />\n\n          {showModal && (\n            <Modal onCloseModal={toggleModal} imgModal={imgModal} />\n          )}\n        </>\n      )}\n      {status === Status.REJECTED && (\n        <ImageGalleryError message={error.message} />\n      )}\n    </div>\n  );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__a-CWT\",\"modal\":\"Modal_modal__-LnQF\",\"modalImage\":\"Modal_modalImage__3nFXf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1lpKP\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__13DBK\"};"],"sourceRoot":""}